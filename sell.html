<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Legend of Ymir — Diamond Pricing</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0a0a0a;
    --card:#141015;
    --ink:#f6f3f6;
    --ink-dim:#d8c9d8;
    --red:#ff0040;
    --red-2:#ff1948;
    --green:#18c26e;
    --blue:#1473ff;
    --violet:#7a49ff;
    --gcash:#0ea5e9;
    --pill:#0f0b10;
    --radius:18px;
    --gap:14px;
    --shadow-soft:0 0 24px rgba(255,0,64,.20), inset 0 0 0 1px rgba(255,0,64,.28);
    --shadow-strong:0 0 70px rgba(255,0,64,.55), 0 0 34px rgba(255,0,64,.25), inset 0 0 0 1px rgba(255,0,64,.45);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    color:var(--ink);
    font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    background:
      radial-gradient(1200px 500px at 50% -60px, rgba(255,0,64,.25), transparent 60%),
      radial-gradient(900px 520px at 50% 0, rgba(255,0,64,.18), transparent 65%),
      linear-gradient(180deg, #10070b, #080609 60%, #070508);
    min-height:100%;
  }

  .wrap{
    max-width:880px;
    margin:18px auto 28px;
    padding:0 14px;
  }

  .logo-wrap{
    display:grid;
    place-items:center;
    margin:4px 0 12px;
  }
  .logo{
    width:164px; height:164px; border-radius:50%;
    position:relative; overflow:hidden; display:grid; place-items:center;
    background:#0c0a0b; box-shadow: var(--shadow-strong);
    animation: float 4.5s ease-in-out infinite;
  }
  @keyframes float{
    0%,100%{ transform:translateY(0) }
    50%{ transform:translateY(-6px) }
  }
  .logo::before, .logo::after{
    content:""; position:absolute; inset:0; border-radius:50%;
  }
  /* outer neon ring (strong) */
  .logo::before{
    box-shadow:
      0 0 22px rgba(255,0,64,.85),
      0 0 50px rgba(255,0,64,.60),
      0 0 110px rgba(255,0,64,.45);
    border:2px solid rgba(255,0,64,.65);
    inset:-10px;
    filter: blur(0.2px);
  }
  /* inner white ring */
  .logo::after{
    inset:26px;
    border:4px solid rgba(255,255,255,.95);
    box-shadow:0 0 24px rgba(255,255,255,.85), 0 0 54px rgba(255,0,64,.55);
    border-radius:50%;
  }
  .logo img{
    width:86%; height:86%;
    object-fit:cover; border-radius:50%;
    position:relative; z-index:1;
    box-shadow:0 0 10px rgba(255,255,255,.35) inset;
  }

  .row{display:grid; gap:var(--gap)}
  .grid-3{grid-template-columns:repeat(3,1fr)}
  .grid-2{grid-template-columns:1fr auto}
  .grid-buttons{grid-template-columns:1fr 1fr}
  @media(max-width:560px){
    .grid-3{grid-template-columns:1fr}
    .grid-2{grid-template-columns:1fr}
  }

  .card{
    background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
    border:1px solid rgba(255,255,255,.07);
    border-radius:var(--radius);
    padding:16px;
    box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.02);
  }

  .price{
    padding:14px;
    border-radius:16px;
    text-align:center;
    background: rgba(255,255,255,.02);
    border:1px solid rgba(255,255,255,.06);
    box-shadow: var(--shadow-soft);
  }
  .price b{
    display:block;
    font-size:22px; letter-spacing:.3px;
    margin-top:6px;
    text-shadow:0 0 14px rgba(255,0,64,.35);
  }
  .muted{ color:var(--ink-dim); font-size:12px; }

  /* Soft red blur glow inputs (Style A) */
  .input{
    width:100%; border:none; outline:0;
    border-radius:16px; padding:16px 14px;
    color:var(--ink);
    background: #0a090b;
    font-size:18px;
    box-shadow:
      0 0 0 1px rgba(255,255,255,.06),
      0 0 22px rgba(255,0,64,.22),
      inset 0 0 18px rgba(255,0,64,.10);
  }
  .input::placeholder{ color:#857b86 }

  .applied{
    height:54px; display:grid; place-items:center;
    padding:0 14px; border-radius:16px;
    background:#0e0a0c;
    border:1px solid rgba(255,255,255,.06);
    box-shadow: var(--shadow-soft);
    font-weight:700;
    letter-spacing:.2px;
  }

  .btn{
    display:inline-flex; align-items:center; justify-content:center;
    gap:10px; padding:14px 16px; border-radius:16px; border:none; outline:0;
    font-weight:700; cursor:pointer; user-select:none;
  }
  .btn svg{ width:20px; height:20px }
  .btn-green{
    background:linear-gradient(180deg,#1bd378,#17b464);
    color:#03160d; box-shadow:0 8px 26px rgba(24,194,110,.35), inset 0 0 0 1px rgba(255,255,255,.12);
  }

  .wallet{
    display:flex; align-items:center; gap:12px;
    background: radial-gradient(120% 160% at 20% -40%, rgba(20,115,255,.25), transparent 45%), rgba(255,255,255,.02);
    border:1px solid rgba(255,255,255,.07);
    border-radius:16px; padding:14px 16px;
  }
  .tag{
    padding:8px 12px; border-radius:999px; font-weight:700; font-size:14px;
    background:#07223f; color:#cde9ff; border:1px solid rgba(255,255,255,.1);
    box-shadow:0 10px 24px rgba(20,115,255,.28) inset;
  }

  .cta-row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
  .btn-fb{
    background:linear-gradient(180deg,#1877F2,#115ed1); color:#fff; border:none;
    border-radius:16px; padding:14px 16px; font-weight:700;
    box-shadow:0 10px 26px rgba(17,94,209,.35), inset 0 0 0 1px rgba(255,255,255,.14);
    display:flex; align-items:center; justify-content:center; gap:10px;
  }
  .btn-discord{
    background:linear-gradient(180deg,#5865F2,#4752C4); color:#fff; border:none;
    border-radius:16px; padding:14px 16px; font-weight:700;
    box-shadow:0 10px 26px rgba(88,101,242,.35), inset 0 0 0 1px rgba(255,255,255,.14);
    display:flex; align-items:center; justify-content:center; gap:10px;
  }

  /* number-only counter */
  .counter{
    text-align:center; padding:16px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,.07);
    background:rgba(255,255,255,.02);
  }
  #count{
    display:inline-block;
    padding:8px 18px;
    font-size:26px; font-weight:900; letter-spacing:.5px;
    border-radius:12px;
    background:rgba(0,255,100,.12);
    border:1px solid rgba(0,255,120,.45);
    box-shadow:0 0 16px rgba(0,255,110,.35);
  }

  /* safety for overflow */
  img,svg{max-width:100%}
</style>
</head>
<body>
  <div class="wrap">
    <!-- STRONG GLOW AVATAR -->
    <div class="logo-wrap">
      <div class="logo">
        <img src="logo.png" alt="Logo">
      </div>
    </div>

    <!-- TOP PRICES -->
    <div class="row grid-3" style="margin-top:6px;">
      <div class="price">
        <div class="muted">Price / dia</div>
        <b>₱0.80</b>
      </div>
      <div class="price">
        <div class="muted">Price / dia</div>
        <b>₱0.75</b>
      </div>
      <div class="price">
        <div class="muted">Price / dia</div>
        <b>₱0.70</b>
      </div>
    </div>

    <!-- INPUTS -->
    <div class="card" style="margin-top:14px;">
      <div class="row" style="gap:12px;">
        <label class="muted" for="dias">Enter Diamonds</label>
        <input id="dias" class="input" inputmode="numeric" placeholder="e.g. 1500">
        <label class="muted" for="php">ENTER PHP</label>
        <input id="php" class="input" inputmode="decimal" placeholder="e.g. 500.00">
      </div>

      <div class="row grid-2" style="margin-top:14px; align-items:center;">
        <div id="rateTag" class="applied">–</div>
        <button id="buyBtn" class="btn btn-green">
          <!-- diamond emoji SVG -->
          <svg viewBox="0 0 24 24" fill="none"><path d="M5 3h14l4 5-11 13L1 8l4-5Z" stroke="#03160d" stroke-width="1.4" fill="#9df2c5"/></svg>
          Buy
        </button>
      </div>

      <div class="muted" style="margin-top:10px;">Enter at least 500 dias or PHP equivalent.</div>
    </div>

    <!-- WALLET -->
    <div class="card" style="margin-top:12px;">
      <div class="wallet">
        <span class="tag">GCash</span>
        <b>09162466318 – MOISES B.</b>
      </div>
      <div class="cta-row" style="margin-top:12px;">
        <a class="btn-fb" href="https://www.facebook.com/share/p/1DB1da3qMn/" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M13.5 22v-8h2.7l.4-3h-3.1V8.2c0-.9.3-1.5 1.7-1.5H17V4.1C16.5 4 15.4 4 14.2 4c-2.6 0-4.3 1.6-4.3 4.4V11H7v3h2.9v8h3.6Z"/></svg>
          Facebook
        </a>
        <a class="btn-discord" href="https://discord.gg/QkdVz5mh" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20 4.5A16 16 0 0 0 15.6 3l-.3.6a14.7 14.7 0 0 1 3.7 1.8c-1.6-.8-3.2-1.3-5-1.6a16 16 0 0 0-5.9 0c-1.8.3-3.4.8-5 1.6a14.7 14.7 0 0 1 3.7-1.8L6.4 3A16 16 0 0 0 4 4.5C.7 9.4 0 14.2 0 18.9c2.2 2.6 5.6 2.7 5.6 2.7l.7-.9C4 20 3 18.6 3 18.6c.3.2 3.3 1.8 9 1.8s8.7-1.6 9-1.8c0 0-1 1.4-3.3 2.1l.7.9s3.4-.1 5.6-2.7C24 14.2 23.3 9.4 20 4.5ZM8.8 15.5c-1 0-1.8-.9-1.8-2s.8-2 1.8-2 1.8.9 1.8 2-.8 2-1.8 2Zm6.4 0c-1 0-1.8-.9-1.8-2s.8-2 1.8-2 1.8.9 1.8 2-.8 2-1.8 2Z"/></svg>
          Discord
        </a>
      </div>
    </div>

    <!-- NUMBER ONLY COUNTER -->
    <div class="counter" style="margin-top:12px;">
      <span id="count">0</span>
    </div>
  </div>

<script>
  // ----- CONFIG -----
  const RATE_NORMAL = 0.80; // 1–3000
  const RATE_RETAIL = 0.75; // 4000–7000
  const RATE_BULK   = 0.70; // 8000+
  const MIN_DIAS = 500;

  const dias = document.getElementById('dias');
  const php  = document.getElementById('php');
  const rateTag = document.getElementById('rateTag');
  const buyBtn = document.getElementById('buyBtn');

  const COUNT_KEY = 'moistore-counter';
  const countEl = document.getElementById('count');

  // init counter
  const setCount = n => {
    localStorage.setItem(COUNT_KEY, n);
    countEl.textContent = n;
  };
  setCount(localStorage.getItem(COUNT_KEY) || 0);

  // soft chime on success
  function chime(){
    try{
      const ctx = new (window.AudioContext||window.webkitAudioContext)();
      const o = ctx.createOscillator(), g = ctx.createGain();
      o.type='sine'; o.frequency.value=880;
      g.gain.setValueAtTime(0.0001, ctx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.06, ctx.currentTime+0.02);
      g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime+0.35);
      o.connect(g).connect(ctx.destination); o.start(); o.stop(ctx.currentTime+0.36);
      setTimeout(()=>ctx.close(), 450);
    }catch(e){}
  }

  // tier detection by diamond count
  function tierByDias(q){
    if (!q || q < MIN_DIAS) return {rate:null, label:'–'};
    if (q <= 3000) return {rate:RATE_NORMAL, label:`₱${RATE_NORMAL.toFixed(2)} / dia`};
    if (q <= 7000) return {rate:RATE_RETAIL, label:`₱${RATE_RETAIL.toFixed(2)} / dia`};
    return {rate:RATE_BULK, label:`₱${RATE_BULK.toFixed(2)} / dia`};
  }

  // when PHP entered, infer tier iteratively
  function inferFromPhp(amount){
    const tryTiers = [RATE_NORMAL, RATE_RETAIL, RATE_BULK];
    for (const r of tryTiers){
      const q = amount / r;
      const t = tierByDias(q);
      if (t.rate && Math.abs(t.rate - r) < 0.001) return {q, t};
    }
    // fallback to best
    const q = amount / RATE_BULK;
    return {q, t:tierByDias(q)};
  }

  function fmt(n){ return (isFinite(n)? Number(n).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2}) : '0.00'); }

  function syncFromDias(){
    const q = parseFloat(dias.value);
    const t = tierByDias(q);
    rateTag.textContent = t.label;
    if (t.rate){
      const amount = q * t.rate;
      php.value = fmt(amount);
    } else {
      php.value = '';
    }
  }

  function syncFromPhp(){
    const amount = parseFloat(php.value);
    if (!amount){ dias.value=''; rateTag.textContent='–'; return; }
    const {q, t} = inferFromPhp(amount);
    dias.value = Math.max(0, Math.floor(q));
    rateTag.textContent = t.label;
  }

  dias.addEventListener('input', syncFromDias);
  php.addEventListener('input',  syncFromPhp);

  buyBtn.addEventListener('click', ()=>{
    // update counter (per device)
    setCount(+localStorage.getItem(COUNT_KEY) + 1);

    // compose message and copy
    const msg =
`BUY REQUEST
Diamonds: ${dias.value || '-'}
Amount: ₱${php.value || '-'}
Rate: ${rateTag.textContent}
Payment: GCash 09162466318 (MOISES B.)`;
    navigator.clipboard?.writeText(msg);

    // haptic + chime
    if (navigator.vibrate) navigator.vibrate([30, 18, 18]);
    chime();
  });

  // Prevent glow overflow on very narrow screens
  window.addEventListener('load', ()=> {
    document.querySelectorAll('.input').forEach(i=>i.style.maxWidth='100%');
  });
</script>
</body>
</html>