<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LEGEND OF YMIR DIAMOND üíé</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    /* Dragon Forge palette */
    --txt:#fff9f0; --mut:#e6d6c1;
    --red:#a90e1c; --red2:#dc143c; --ember:#ff2d55;
    --gold:#f7c548; --gold2:#ffdf7e; --gold3:#d39e27;
    --ring: conic-gradient(#b3132d,#ff4d68,#d4172e,#b3132d);
    --border: rgba(247,197,72,.28);
    --glow: 0 0 18px rgba(247,197,72,.30), 0 0 36px rgba(247,197,72,.14);
    --deep:#0a0708;
  }
  *{box-sizing:border-box}
  html,body{margin:0;color:var(--txt);font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#080507;min-height:100%}

  /* DRAGON FORGE animated background */
  body::before{
    content:"";position:fixed; inset:-20% -20%; z-index:-3; pointer-events:none;
    background:
      radial-gradient(50% 40% at 20% 10%, rgba(220,20,60,.20), transparent 60%),
      radial-gradient(45% 35% at 80% 0%, rgba(169,14,28,.18), transparent 65%),
      radial-gradient(60% 45% at 50% 110%, rgba(255,45,85,.15), transparent 70%),
      radial-gradient(55% 40% at 10% 90%, rgba(160,10,25,.12), transparent 70%);
    filter: blur(10px) saturate(120%);
    animation:bgFloat 16s ease-in-out infinite alternate;
  }
  @keyframes bgFloat{0%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(1.2%,-1%,0) scale(1.02)}100%{transform:translate3d(-1%,1.2%,0) scale(1.03)}}
  body::after{
    content:""; position:fixed; inset:0; z-index:-2; pointer-events:none;
    background:
      radial-gradient(circle at 25% 30%, rgba(247,197,72,.45) 0 1px, transparent 2px),
      radial-gradient(circle at 70% 15%, rgba(255,223,126,.35) 0 1px, transparent 2px),
      radial-gradient(circle at 80% 70%, rgba(247,197,72,.40) 0 1px, transparent 2px),
      radial-gradient(circle at 35% 85%, rgba(247,197,72,.38) 0 1px, transparent 2px);
    background-repeat:no-repeat; animation:spark 12s linear infinite; opacity:.7; filter:blur(.3px);
  }
  @keyframes spark{0%{transform:translateY(0)}100%{transform:translateY(-12px)}}

  .wrap{max-width:760px;margin:auto;padding:16px 14px 90px}
  .title{
    display:flex;gap:10px;justify-content:center;font-weight:800;font-size:22px;letter-spacing:.4px;margin:2px 0 8px;
    text-shadow:0 2px 18px rgba(247,197,72,.35), 0 0 4px rgba(220,20,60,.45);
  }

  /* Dragon medallion logo */
  .logoWrap{display:grid;place-items:center;margin:6px 0 8px}
  .logo{
    width:min(44vw,190px);aspect-ratio:1/1;border-radius:999px;position:relative;display:grid;place-items:center;
    background:
      radial-gradient(120px 110px at 50% 50%, #0c090a 40%, #000 100%),
      conic-gradient(from 220deg at 50% 50%, rgba(247,197,72,.12), transparent 15%);
    box-shadow:0 0 0 8px rgba(0,0,0,.55), 0 0 42px rgba(247,197,72,.20);
    overflow:hidden;
  }
  .ring{
    position:absolute;inset:10px;border-radius:999px;background:var(--ring);filter:blur(.6px);
    -webkit-mask:radial-gradient(circle, transparent 61.5%, #000 63%); mask:radial-gradient(circle, transparent 61.5%, #000 63%);
    animation:spin 9s linear infinite;opacity:.65;
  }
  @keyframes spin{to{transform:rotate(360deg)}}
  .logo img{width:82%;border-radius:999px;box-shadow:0 0 24px rgba(247,197,72,.25)}

  /* Owner badge under logo */
  .owner{
    margin:10px auto 8px;display:flex;gap:10px;align-items:center;justify-content:center;padding:10px 12px;border-radius:14px;
    background:linear-gradient(180deg,#151015,#0d0b0e);border:1px solid rgba(247,197,72,.35);
    box-shadow:0 0 22px rgba(247,197,72,.16);font-weight:800;max-width:560px
  }
  .owner a{color:#fff;text-decoration:none;display:inline-flex;align-items:center;gap:8px}
  .ownerName{letter-spacing:.3px}
  .metaBadge{width:22px;height:22px;display:inline-block;filter: drop-shadow(0 0 10px rgba(247,197,72,.55))}

  /* Tiers */
  .row{display:grid;gap:12px}
  .prices{display:grid;grid-template-columns:repeat(3,1fr);margin:6px 0 10px}
  .pill{
    position:relative;
    background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.00));
    border:1px solid rgba(247,197,72,.35); border-radius:18px; padding:12px; text-align:center;
    box-shadow:inset 0 0 0 1px rgba(247,197,72,.14), var(--glow);
    transition:transform .18s, box-shadow .18s, border-color .18s, opacity .18s
  }
  .pval{font-size:26px;font-weight:900; text-shadow:0 0 10px rgba(247,197,72,.25)}
  .ptxt{font-size:12px;color:var(--mut)}
  .pill.active{
    transform:translateY(-2px) scale(1.02);
    border-color:rgba(247,197,72,.85);
    box-shadow:0 0 24px rgba(247,197,72,.35), inset 0 0 0 1px rgba(247,197,72,.45);
  }
  .pill.lock{opacity:.45;filter:grayscale(.25);border-color:rgba(247,197,72,.18);box-shadow:none}

  /* Sparkle overlay for higher tiers */
  .pill.sparkle::after{
    content:"";
    position:absolute; inset:0; border-radius:18px; pointer-events:none;
    background:
      radial-gradient(circle at 20% 30%, rgba(255,255,255,.75) 0 1.2px, transparent 1.3px),
      radial-gradient(circle at 70% 40%, rgba(255,255,255,.70) 0 1.1px, transparent 1.2px),
      radial-gradient(circle at 40% 70%, rgba(255,255,255,.80) 0 1.3px, transparent 1.4px),
      radial-gradient(circle at 85% 65%, rgba(255,255,255,.65) 0 1.0px, transparent 1.1px);
    mix-blend-mode:screen; opacity:.9; filter:drop-shadow(0 0 6px rgba(247,197,72,.65));
    animation:sparkleMove 2.6s linear infinite;
  }
  @keyframes sparkleMove{
    0%{transform:translateY(0)}
    50%{transform:translateY(-2px)}
    100%{transform:translateY(0)}
  }

  /* Section + inputs */
  .section{
    position:relative;
    background:linear-gradient(180deg,#140e13,#0f0a0d);border:1px solid rgba(247,197,72,.32);border-radius:18px;padding:14px;box-shadow:var(--glow)
  }
  /* subtle shimmer toggled on higher tiers via body class */
  body.tier-75 .section::after,
  body.tier-70 .section::after{
    content:""; position:absolute; inset:0; border-radius:18px; pointer-events:none;
    background:linear-gradient(120deg, rgba(247,197,72,.10), transparent 40%, rgba(247,197,72,.08) 60%, transparent 90%);
    animation:shimmer 3.2s ease-in-out infinite;
  }
  @keyframes shimmer{
    0%{opacity:.0; transform:translateX(-2%);}
    35%{opacity:.25;}
    70%{opacity:.0; transform:translateX(2%);}
    100%{opacity:.0;}
  }

  .label{font-size:13px;color:var(--mut);margin:4px 2px 6px}
  .in{
    width:100%;border:1px solid rgba(247,197,72,.35);background:#0b090c;color:#fff;padding:14px;border-radius:14px;font-size:18px;outline:none;
    box-shadow:inset 0 0 18px rgba(247,197,72,.10), 0 0 14px rgba(247,197,72,.12);
  }
  .in:focus{border-color:var(--gold2);box-shadow:0 0 0 3px rgba(247,197,72,.22), var(--glow)}
  .warn{margin-top:8px;font-size:12px;color:#ff9aaa;display:none}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
  .box{
    background:linear-gradient(180deg,#1a1412,#110e0c);border:1px solid rgba(247,197,72,.32);border-radius:16px;padding:12px;text-align:center;box-shadow:var(--glow)
  }
  .box h5{margin:0 0 4px;font-size:12px;color:var(--mut)}
  .rateOut{font-weight:900;font-size:20px}
  .saveOut{font-weight:900;font-size:20px;color:#d9ffd2}
  .saveBox{background:linear-gradient(180deg,#102011,#0b150c);border-color:rgba(120,255,160,.32)}

  /* Buttons */
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;border:none;border-radius:14px;padding:14px 16px;font-weight:800;letter-spacing:.2px;cursor:pointer;user-select:none}
  .buy{
    background:linear-gradient(180deg,var(--gold2),var(--gold3));
    color:#2b1700;font-size:18px;box-shadow:0 18px 44px rgba(247,197,72,.28);
    width:100%;margin-top:10px;border:1px solid rgba(247,197,72,.55);
  }
  .buy:active{transform:translateY(1px)}
  .label.center{text-align:center;margin-top:8px}

  /* Payment + socials */
  .pay{
    background:linear-gradient(180deg,#100f0a,#0c0b08);border:1px solid rgba(247,197,72,.30);border-radius:18px;padding:12px 14px;box-shadow:0 0 22px rgba(247,197,72,.18);margin-top:10px
  }
  .gcashRow{
    display:flex;align-items:center;gap:10px;font-weight:800;
    background:rgba(247,197,72,.08);border:1px solid rgba(247,197,72,.35);
    padding:10px 12px;border-radius:12px;cursor:pointer;max-width:560px;margin:8px auto 10px;
    box-shadow: 0 10px 28px rgba(247,197,72,.14);
  }
  .gcashIcon{
    width:24px;height:24px;border-radius:999px;background:linear-gradient(180deg,var(--gold2),var(--gold3));
    display:grid;place-items:center;color:#2b1700;font-weight:900;letter-spacing:.2px;
    box-shadow:0 0 12px rgba(247,197,72,.35), inset 0 0 10px rgba(255,255,255,.15);
  }

  .soc{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
  .btnlink{display:inline-flex;align-items:center;justify-content:center;gap:10px;border-radius:14px;padding:14px 16px;font-weight:800;letter-spacing:.2px;text-decoration:none;border:1px solid rgba(255,255,255,.08)}
  .fb{background:#1d2a45;color:#fff;border-color:rgba(29,42,69,.55)}
  .dc{background:#20234a;color:#fff;border-color:rgba(32,35,74,.55)}

  /* Notice */
  .notice{margin-top:12px;padding:12px 14px;border-radius:14px;background:linear-gradient(180deg,#171216,#100d10);border:1px solid rgba(247,197,72,.28);box-shadow:0 0 18px rgba(0,0,0,.25)}
  .notice h4{margin:0 0 6px;font-size:14px;color:var(--gold2)}
  .notice p{margin:0;color:var(--mut);font-size:13px}

  /* Popups */
  #buyPopup, #gcashPopup{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;place-items:center;z-index:50}
  .cardPop{
    width:min(92vw,520px);background:#120e10;border:1px solid rgba(247,197,72,.35);border-radius:18px;padding:18px;text-align:center;
    box-shadow:0 0 24px rgba(247,197,72,.18);
  }
  .cardPop h3{margin:0 0 8px;color:var(--gold2)}
  .cardPop .btn{background:linear-gradient(180deg,#2b2622,#1c1916);color:#fff;border:1px solid rgba(247,197,72,.25)}

  @media (max-width:540px){ .grid2{grid-template-columns:1fr} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="title">LEGEND OF YMIR DIAMOND üíé</div>

    <div class="logoWrap">
      <div class="logo">
        <div class="ring"></div>
        <img src="logo.png" alt="Logo">
      </div>
    </div>

    <!-- Owner (under logo) -->
    <div class="owner">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="#1877f2" aria-hidden="true">
        <path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.17 8.44 9.93v-7.02H7.9v-2.91h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.91h-2.34V22c4.78-.76 8.44-4.92 8.44-9.93z"/>
      </svg>
      <a href="https://www.facebook.com/share/1FWLHh32iE/" target="_blank" rel="noopener">
        <span class="ownerName">MOISES TRAJANO BITONIO</span>
        <svg class="metaBadge" viewBox="0 0 24 24" aria-hidden="true">
          <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#ffe19a"/><stop offset="1" stop-color="#f7c548"/></linearGradient></defs>
          <circle cx="12" cy="12" r="10" fill="url(#g)"/>
          <path d="M9.2 12.6l-1.7-1.7a1 1 0 10-1.4 1.4l2.4 2.4c.4.4 1 .4 1.4 0l6.1-6.1a1 1 0 10-1.4-1.4l-5.4 5.4z" fill="#2b1700"/>
        </svg>
      </a>
    </div>

    <!-- Tiers -->
    <div class="row prices">
      <div id="pill80" class="pill">
        <div class="pval">‚Ç±0.80</div>
        <div class="ptxt">min 1000 üíé</div>
      </div>
      <div id="pill75" class="pill">
        <div class="pval">‚Ç±0.75</div>
        <div class="ptxt">min 4000 üíé</div>
      </div>
      <div id="pill70" class="pill">
        <div class="pval">‚Ç±0.70</div>
        <div class="ptxt">min 8000 üíé</div>
      </div>
    </div>

    <!-- Inputs -->
    <div class="section">
      <div class="label">Enter Diamonds üíé</div>
      <input id="dias" class="in" inputmode="numeric" autocomplete="off" placeholder="e.g. 1500">
      <div class="label" style="margin-top:10px">ENTER PHP ‚Ç±</div>
      <input id="phpIn" class="in" inputmode="decimal" autocomplete="off" placeholder="e.g. 500.00">
      <div id="warn" class="warn">Minimum 1000 üíé required.</div>

      <div class="grid2">
        <div class="box">
          <h5>Rate</h5>
          <div id="rateOut" class="rateOut">‚Äî</div>
        </div>
        <div class="box saveBox">
          <h5>Save</h5>
          <div id="saveOut" class="saveOut">‚Äî</div>
        </div>
      </div>
    </div>

    <!-- Buy -->
    <button id="buyBtn" type="button" class="btn buy">üíé Buy</button>
    <div class="label center">Enter at least 1000 dias or PHP equivalent.</div>

    <!-- Payment + Socials -->
    <div class="pay">
      <!-- GCash (copy only) -->
      <div id="gcashRow" class="gcashRow" title="Tap to copy">
        <div class="gcashIcon">‚Ç±</div>
        GCash ‚Ä¢ <strong id="gcashNumber">09162466318 ‚Äî MOISES B.</strong>
      </div>

      <div class="soc">
        <a class="btnlink fb" href="https://www.facebook.com/share/p/17MiaRJ24J/" target="_blank" rel="noopener">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="#fff" aria-hidden="true"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5.01 3.66 9.17 8.44 9.93v-7.02H7.9v-2.91h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.91h-2.34V22c4.78-.76 8.44-4.92 8.44-9.93z"/></svg>
          FACEBOOK FEEDBACK
        </a>
        <a class="btnlink dc" href="https://discord.gg/QkdVz5mh" target="_blank" rel="noopener">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#fff" aria-hidden="true"><path d="M20.3 4.4A16 16 0 0015.9 3l-.4.8a13.3 13.3 0 00-7 0L8.1 3A16 16 0 003.7 4.4C1.7 7.5 1 10.5 1.2 13.4a16 16 0 005.9 3l.8-1.3c-.4-.1-.7-.3-1-.4.1-.1.2-.2.3-.3 1.9.9 4 .9 5.9 0l.3.3c-.3.2-.6.3-1 .4l.8 1.3a16 16 0 005.9-3c.3-3-.5-5.9-2.8-9zM9.6 13c-.9 0-1.6-.8-1.6-1.7S8.7 9.6 9.6 9.6s1.6.8 1.6 1.7S10.5 13 9.6 13zm4.8 0c-.9 0-1.6-.8-1.6-1.7s.7-1.7 1.6-1.7 1.6.8 1.6 1.7-.7 1.7-1.6 1.7z"/></svg>
          DISCORD FEEDBACK
        </a>
      </div>
    </div>

    <!-- Waiting Time Notice -->
    <div class="notice">
      <h4>‚è≥ Waiting Time Notice</h4>
      <p>Processing time may vary depending on server demand. Some servers might experience longer wait times ‚Äî pero <strong>guaranteed matatanggap ang order mo</strong>.</p>
    </div>
  </div>

  <!-- BUY Popup -->
  <div id="buyPopup">
    <div class="cardPop">
      <h3>Copied ‚úî</h3>
      <p><strong>I-PASTE MO ITO SA MESSENGER KO.</strong><br>Open Messenger then paste the order message.</p>
      <button id="closePop" class="btn" style="width:160px;margin:auto">OK</button>
    </div>
  </div>

  <!-- GCash Copied Popup -->
  <div id="gcashPopup">
    <div class="cardPop">
      <h3>GCash number copied ‚úî</h3>
      <p><strong>09162466318 ‚Äî MOISEES B.</strong><br>Paste sa GCash Express Send.</p>
      <button id="gcashOk" class="btn" style="width:160px;margin:auto">OK</button>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const $ = id => document.getElementById(id);
  const clean = v => String(v ?? '').replace(/[^\d.]/g,'');
  const toInt = v => { const m = clean(v).match(/^\d+/); return m? parseInt(m[0],10):0; };
  const toNum = v => { const m = clean(v).match(/^\d+(?:\.\d+)?/); return m? parseFloat(m[0]):0; };
  const fmt = n => Number(n).toLocaleString(undefined,{minimumFractionDigits:2, maximumFractionDigits:2});

  const MIN1=1000, MIN2=4000, MIN3=8000;
  const T1=0.80, T2=0.75, T3=0.70;

  function getRate(q){
    if(!q || q<MIN1) return null;
    if(q<MIN2) return T1;
    if(q<MIN3) return T2;
    return T3;
  }
  function estimateFromPHP(p){
    if(!p||p<=0) return 0;
    let q = Math.floor(p/T1);
    for(let i=0;i<4;i++){
      const r = getRate(q) ?? T1;
      q = Math.floor(p/r);
    }
    return q;
  }

  function setTierBodyClass(r){
    document.body.classList.remove('tier-80','tier-75','tier-70');
    if(r===T1) document.body.classList.add('tier-80');
    else if(r===T2) document.body.classList.add('tier-75');
    else if(r===T3) document.body.classList.add('tier-70');
  }

  function paintPills(q, r){
    const p80=$('pill80'), p75=$('pill75'), p70=$('pill70');
    [p80,p75,p70].forEach(p=>p.classList.remove('active','lock','sparkle'));
    if(!q || q<MIN1){ p80.classList.add('lock'); p75.classList.add('lock'); p70.classList.add('lock'); setTierBodyClass(null); return; }
    if(q<MIN2) p75.classList.add('lock');
    if(q<MIN3) p70.classList.add('lock');

    if(r===T1){ p80.classList.add('active'); }
    else if(r===T2){ p75.classList.add('active','sparkle'); }
    else if(r===T3){ p70.classList.add('active','sparkle'); }

    setTierBodyClass(r);
  }

  const diasEl=$('dias'), phpEl=$('phpIn'), rateOut=$('rateOut'), saveOut=$('saveOut'), warn=$('warn'), buyBtn=$('buyBtn');

  let lastEdited=null;
  function recalc(){
    let q = toInt(diasEl.value);
    let p = toNum(phpEl.value);

    if(lastEdited==='p'){ // PHP -> dias
      q = estimateFromPHP(p);
      diasEl.value = q ? String(q) : '';
    }else if(lastEdited==='d'){ // dias -> PHP
      const r = getRate(q);
      phpEl.value = (r && q) ? fmt(q*r) : '';
    }else{
      if(!q && p){ q = estimateFromPHP(p); diasEl.value = q?String(q):''; }
      if(q && !p){ const r=getRate(q); phpEl.value = r?fmt(q*r):''; }
    }

    const r=getRate(q);
    paintPills(q,r);

    const ok = q>=MIN1 && !!r;
    warn.style.display = ok ? 'none' : 'block';

    if(r && q){
      rateOut.textContent = `‚Ç±${r.toFixed(2)} / dia`;
      const base=q*T1, saveAmt=Math.max(0, base-(q*r));
      const savePct=Math.max(0,(1-r/T1)*100);
      saveOut.textContent = `${savePct.toFixed(2)}% ‚Ä¢ ‚Ç±${fmt(saveAmt)}`;
    }else{
      rateOut.textContent='‚Äî'; saveOut.textContent='‚Äî';
    }
  }

  ['input','change','keyup'].forEach(ev=>{
    diasEl.addEventListener(ev, ()=>{ lastEdited='d'; recalc(); });
    phpEl.addEventListener(ev,  ()=>{ lastEdited='p'; recalc(); });
  });
  recalc();

  // Buy: copy + popup
  $('buyBtn').addEventListener('click', async ()=>{
    let q = toInt(diasEl.value);
    let p = toNum(phpEl.value);
    if(!q && p) q = estimateFromPHP(p);
    const r = getRate(q);
    if(!r){ alert('Minimum 1000 üíé required.'); return; }
    const total = p || (q*r);
    const msg = `BUY ORDER
Diamonds: ${q} üíé
Rate: ‚Ç±${r.toFixed(2)} / dia
Total: ‚Ç±${fmt(total)}
GCash: 09162466318 (MOISES B.)`;
    try{ await navigator.clipboard.writeText(msg); }catch(e){ console.warn('Clipboard write failed', e); }
    document.getElementById('buyPopup').style.display='grid';
  });
  document.getElementById('closePop').onclick=()=>document.getElementById('buyPopup').style.display='none';

  // GCash: copy only + popup
  (function(){
    const MOBILE='09162466318';
    const row = document.getElementById('gcashRow');
    const pop = document.getElementById('gcashPopup');
    const ok  = document.getElementById('gcashOk');

    async function copyNum(){ try{ await navigator.clipboard.writeText(MOBILE);}catch(e){ console.warn('Clipboard write failed', e); } }
    row.addEventListener('click', async ()=>{ await copyNum(); pop.style.display='grid'; });
    ok.addEventListener('click', ()=> pop.style.display='none');
  })();
});
</script>
</body>
</html>